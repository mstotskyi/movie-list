{"version":3,"sources":["components/Searchbar/Searchbar.module.css","components/MovieGallery/MovieGallery.module.css","components/MovieGalleryItem/MovieGalleryItem.module.css","services/apiService.tsx","components/MovieGalleryItem/MovieGalleryItem.tsx","components/Loader/Loader.tsx","components/MovieGallery/MovieGallery.tsx","components/Searchbar/SearchBar.tsx","App.js","index.js"],"names":["module","exports","MoviesApiService","_classCallCheck","searchQuery","page","total","this","_createClass","key","value","_this","URL","concat","fetch","then","response","json","data","console","log","getTotal","totalResults","Search","get","set","newQuery","MovieGalleryItem","_ref","movies","length","_jsx","_Fragment","children","map","movie","_jsxs","className","styles","src","Poster","alt","Title","MovieGalleryItem__image","Year","imdbID","Spiner","Circles","height","width","color","ariaLabel","wrapperStyle","wrapperClass","visible","newPicsApiService","PicsApiService","MovieGallery","_useState","useState","_useState2","_slicedToArray","searchResults","setSearchResults","_useState3","_useState4","status","setStatus","_useState5","_useState6","showSpiner","setShowSpiner","useEffect","query","resetPage","fetchPictures","result","catch","error","MovieGallery__Button__wrapper","Button","MovieGallery__Button","variant","onClick","e","incrementPage","prevState","_toConsumableArray","window","scrollTo","top","document","documentElement","scrollHeight","behavior","alert","Searchbar","getSearchQuery","searchQery","setSearchQuery","SearchForm","onSubmit","preventDefault","TextField","SearchForm__input","id","label","type","autoComplete","autoFocus","onChange","target","SearchForm__button","App","ReactDOM","createRoot","getElementById","render","React","StrictMode"],"mappings":"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","file":"static/js/main.3782535a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__1GmgG\",\"SearchForm\":\"Searchbar_SearchForm__2CWGu\",\"SearchForm__button\":\"Searchbar_SearchForm__button__2bHVx\",\"SearchForm__input\":\"Searchbar_SearchForm__input__QfOIu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"MovieGallery\":\"MovieGallery_MovieGallery__2AioG\",\"MovieGallery__Button\":\"MovieGallery_MovieGallery__Button__2nqxm\",\"MovieGallery__Button__wrapper\":\"MovieGallery_MovieGallery__Button__wrapper__10u8C\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"MovieGalleryItem\":\"MovieGalleryItem_MovieGalleryItem__EsNtc\",\"MovieGalleryItem__image\":\"MovieGalleryItem_MovieGalleryItem__image__2FvGj\"};","// interface Params {\r\n//   searchQuery: string;\r\n//   page: number;\r\n//   total: number;\r\n// }\r\n\r\nexport default class MoviesApiService {\r\n  searchQuery: string;\r\n  page: number;\r\n  total: number;\r\n\r\n  constructor() {\r\n    this.searchQuery = \"\";\r\n    this.page = 1;\r\n    this.total = 0;\r\n  }\r\n\r\n  fetchPictures() {\r\n    const API_KEY = \"a5f3b75f\";\r\n    const BASE_URL = \"http://www.omdbapi.com/\";\r\n    const URL = `${BASE_URL}?s=${this.searchQuery}&apikey=${API_KEY}&page=${this.page}`;\r\n    return fetch(URL)\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        console.log(data);\r\n        this.getTotal(data.totalResults);\r\n        return data.Search;\r\n      });\r\n  }\r\n\r\n  incrementPage() {\r\n    this.page += 1;\r\n  }\r\n\r\n  resetPage() {\r\n    this.page = 1;\r\n  }\r\n\r\n  getTotal(totalResults: number) {\r\n    this.total = totalResults;\r\n  }\r\n\r\n  get query() {\r\n    return this.searchQuery;\r\n  }\r\n\r\n  set query(newQuery) {\r\n    this.searchQuery = newQuery;\r\n  }\r\n}\r\n","import styles from \"../MovieGalleryItem/MovieGalleryItem.module.css\";\r\nimport { Options } from \"../../services/types\";\r\n\r\ninterface IMovies {\r\n  movies: Options[];\r\n}\r\n\r\nexport function MovieGalleryItem({ movies }: IMovies) {\r\n  return movies.length > 0 ? (\r\n    <>\r\n      {movies.map((movie) => (\r\n        <li key={movie.imdbID} className={styles.MovieGalleryItem}>\r\n          <img\r\n            src={movie.Poster}\r\n            alt={movie.Title}\r\n            data-source={movie.Poster}\r\n            className={styles.MovieGalleryItem__image}\r\n          />\r\n          <p>Title: {movie.Title}</p>\r\n          <p>Year: {movie.Year}</p>\r\n          <p>imdbID: {movie.imdbID}</p>\r\n        </li>\r\n      ))}\r\n    </>\r\n  ) : (\r\n    <p>No such found</p>\r\n  );\r\n}\r\n","import { Circles } from \"react-loader-spinner\";\r\n// import styles from \"components/Loader/Loader.module.css\";\r\n\r\nexport default function Spiner() {\r\n  return (\r\n    <Circles\r\n      height=\"80\"\r\n      width=\"80\"\r\n      color=\"#4fa94d\"\r\n      ariaLabel=\"circles-loading\"\r\n      wrapperStyle={{}}\r\n      wrapperClass=\"\"\r\n      visible={true}\r\n      // className={styles.loader}\r\n    />\r\n  );\r\n}\r\n","import { useState, useEffect } from \"react\";\r\nimport styles from \"../MovieGallery/MovieGallery.module.css\";\r\nimport PicsApiService from \"../../services/apiService\";\r\nimport { MovieGalleryItem } from \"../MovieGalleryItem/MovieGalleryItem\";\r\nimport Spiner from \"../Loader/Loader\";\r\nimport Button from \"@mui/material/Button\";\r\nimport { Options } from \"../../services/types\";\r\nconst newPicsApiService = new PicsApiService();\r\n\r\ninterface Props {\r\n  searchQuery: string;\r\n}\r\n\r\nexport function MovieGallery({ searchQuery }: Props) {\r\n  const [searchResults, setSearchResults] = useState<Options[]>([]);\r\n  const [status, setStatus] = useState<string>(\"init\");\r\n  const [showSpiner, setShowSpiner] = useState<boolean>(false);\r\n\r\n  useEffect(() => {\r\n    if (searchQuery === \"\") {\r\n      return;\r\n    }\r\n    setStatus(\"pending\");\r\n    newPicsApiService.query = searchQuery;\r\n    newPicsApiService.resetPage();\r\n    newPicsApiService\r\n      .fetchPictures()\r\n      .then((result) => {\r\n        console.log(result);\r\n        setSearchResults(result);\r\n        setStatus(\"success\");\r\n      })\r\n      .catch((error) => {\r\n        setStatus(\"error\");\r\n      });\r\n  }, [searchQuery]);\r\n  const handleOnClick = (\r\n    e: React.MouseEvent<HTMLButtonElement, MouseEvent>\r\n  ) => {\r\n    newPicsApiService.incrementPage();\r\n    newPicsApiService\r\n      .fetchPictures()\r\n      .then((result: []) => {\r\n        setSearchResults((prevState) => [...prevState, ...result]);\r\n        setShowSpiner(false);\r\n        setStatus(\"success\");\r\n        window.scrollTo({\r\n          top: document.documentElement.scrollHeight,\r\n          behavior: \"smooth\",\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        setStatus(\"error\");\r\n      });\r\n  };\r\n\r\n  if (status === \"init\") {\r\n    return <h1>Hallo! Search something!</h1>;\r\n  }\r\n  if (status === \"pending\") {\r\n    return <Spiner />;\r\n  }\r\n  if (status === \"success\") {\r\n    return (\r\n      <>\r\n        <ul className={styles.MovieGallery}>\r\n          <MovieGalleryItem movies={searchResults} />\r\n        </ul>\r\n        {showSpiner && <Spiner />}\r\n        <div className={styles.MovieGallery__Button__wrapper}>\r\n          <Button\r\n            className={styles.MovieGallery__Button}\r\n            variant=\"contained\"\r\n            onClick={handleOnClick}\r\n          >\r\n            ShowMore\r\n          </Button>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n  if (status === \"error\") {\r\n    alert(\"ERROR!!\");\r\n  }\r\n}\r\n","import { useState } from \"react\";\r\nimport TextField from \"@mui/material/TextField\";\r\nimport Button from \"@mui/material/Button\";\r\nimport styles from \"../Searchbar/Searchbar.module.css\";\r\n\r\ninterface Props {\r\n  getSearchQuery: (searchQery: string) => void;\r\n}\r\nexport function Searchbar({ getSearchQuery }: Props) {\r\n  const [searchQery, setSearchQuery] = useState(\"\");\r\n\r\n  const handleOnSubmit = (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n\r\n    getSearchQuery(searchQery);\r\n    setSearchQuery(\"\");\r\n  };\r\n\r\n  const handleOnChange = (\r\n    e: React.ChangeEvent<HTMLTextAreaElement | HTMLInputElement>\r\n  ) => {\r\n    setSearchQuery(e.target.value);\r\n  };\r\n\r\n  return (\r\n    <header className={styles.Searchbar}>\r\n      <form className={styles.SearchForm} onSubmit={handleOnSubmit}>\r\n        <TextField\r\n          className={styles.SearchForm__input}\r\n          id=\"outlined-basic\"\r\n          label=\"Search\"\r\n          variant=\"outlined\"\r\n          value={searchQery}\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          onChange={handleOnChange}\r\n        />\r\n        <Button\r\n          variant=\"contained\"\r\n          type=\"submit\"\r\n          className={styles.SearchForm__button}\r\n        >\r\n          Search\r\n        </Button>\r\n      </form>\r\n    </header>\r\n  );\r\n}\r\n","import \"./App.css\";\r\nimport { useState } from \"react\";\r\nimport { MovieGallery } from \"./components/MovieGallery/MovieGallery\";\r\nimport { Searchbar } from \"./components/Searchbar/SearchBar\";\r\n\r\nfunction App() {\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  const getSearchQuery = (searchQuery) => setSearchQuery(searchQuery);\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <Searchbar getSearchQuery={getSearchQuery} />\r\n      <MovieGallery searchQuery={searchQuery} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom/client\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\n\r\nconst root = ReactDOM.createRoot(document.getElementById(\"root\"));\r\nroot.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>\r\n);\r\n"],"sourceRoot":""}