(this["webpackJsonpmovie-list"]=this["webpackJsonpmovie-list"]||[]).push([[0],{101:function(e,t,a){"use strict";a.r(t);var r=a(0),c=a.n(r),n=a(65),s=a.n(n),i=(a(94),a(9)),o=(a(95),a(16)),u=a(56),l=a.n(u),h=a(46),j=a(47),b=function(){function e(){Object(h.a)(this,e),this.searchQueryName=void 0,this.searchQueryYear=void 0,this.searchQueryType=void 0,this.page=void 0,this.total=void 0,this.response=void 0,this.searchQueryName=" ",this.searchQueryYear="",this.searchQueryType="",this.page=1,this.total=0,this.response=!1}return Object(j.a)(e,[{key:"fetchMovies",value:function(){var e=this,t="".concat("https://www.omdbapi.com/","?s=").concat(this.searchQueryName,"&y=").concat(this.searchQueryYear,"&type=").concat(this.searchQueryType,"&apikey=").concat("a5f3b75f","&page=").concat(this.page);return fetch(t).then((function(e){return e.json()})).then((function(t){return e.getTotal(t.totalResults),t}))}},{key:"incrementPage",value:function(){this.page+=1}},{key:"resetPage",value:function(){this.page=1}},{key:"getTotal",value:function(e){this.total=e}},{key:"queryName",get:function(){return this.searchQueryName},set:function(e){this.searchQueryName=e}},{key:"queryYear",get:function(){return this.searchQueryYear},set:function(e){this.searchQueryYear=e}},{key:"queryType",get:function(){return this.searchQueryType},set:function(e){this.searchQueryType=e}},{key:"queryResponse",get:function(){return this.response},set:function(e){this.response=e}}]),e}(),y=a(57),m=a.n(y),d=a(2);function p(e){var t=e.movies;return t.length>0?Object(d.jsx)(d.Fragment,{children:t.map((function(e){return Object(d.jsxs)("li",{className:m.a.MovieGalleryItem,children:[Object(d.jsx)("img",{src:e.Poster,alt:e.Title,"data-source":e.Poster,className:m.a.MovieGalleryItem__image}),Object(d.jsxs)("p",{children:["Title: ",e.Title]}),Object(d.jsxs)("p",{children:["Year: ",e.Year]}),Object(d.jsxs)("p",{children:["imdbID: ",e.imdbID]})]},e.imdbID)}))}):Object(d.jsx)("p",{children:"No such found"})}var v=a(73);function f(){return Object(d.jsx)("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:Object(d.jsx)(v.a,{height:"80",width:"80",color:"#4fa94d",ariaLabel:"circles-loading",wrapperClass:"",visible:!0})})}var O=new b;function _(e){var t=e.searchQueryName,a=e.searchQueryYear,c=e.searchQueryType,n=Object(r.useState)([]),s=Object(i.a)(n,2),u=s[0],h=s[1],j=Object(r.useState)("init"),b=Object(i.a)(j,2),y=b[0],m=b[1],v=Object(r.useState)(!1),_=Object(i.a)(v,2),g=_[0],x=_[1],S=Object(r.useState)(0),Q=Object(i.a)(S,2),M=Q[0],G=Q[1];Object(r.useEffect)((function(){""!==t&&(m("pending"),O.queryName=t,O.queryYear=a,O.queryType=c,O.resetPage(),O.fetchMovies().then((function(e){h(e.Search),G(e.totalResults),m("success")})).catch((function(e){m("error")})))}),[t,a,c]);return"init"===y?Object(d.jsx)("h1",{children:"Hallo! Search something!"}):"pending"===y?Object(d.jsx)(f,{}):"success"===y?(console.log(u),u?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("ul",{className:l.a.MovieGallery,children:Object(d.jsx)(p,{movies:u})}),g&&Object(d.jsx)(f,{}),M-u.length>0?Object(d.jsx)("button",{className:l.a.MovieGallery__Button,type:"button",onClick:function(e){x(!0),O.incrementPage(),O.fetchMovies().then((function(e){h((function(t){return[].concat(Object(o.a)(t),Object(o.a)(e.Search))})),x(!1),m("success"),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})})).catch((function(e){m("error")}))},children:"LoadMore"}):Object(d.jsx)("h1",{children:"All results for this query are shown"})]}):Object(d.jsx)("h1",{children:"Sorry, nothing was found for your query!"})):void("error"===y&&alert("ERROR!!"))}var g=a(142),x=a(147),S=a(38),Q=a.n(S),M=a(140),G=a(143),N=a(144),T=a(145);function k(e){var t=e.getSearchQueryName,a=e.getSearchQueryYear,c=e.getSearchQueryType,n=Object(r.useState)(""),s=Object(i.a)(n,2),o=s[0],u=s[1],l=Object(r.useState)(""),h=Object(i.a)(l,2),j=h[0],b=h[1],y=Object(r.useState)(""),m=Object(i.a)(y,2),p=m[0],v=m[1],f=function(e){switch(e.target.name){case"title":u(e.target.value);break;case"year":b(e.target.value);break;default:return}};return Object(d.jsx)("header",{className:Q.a.Searchbar,children:Object(d.jsxs)("form",{className:Q.a.SearchForm,onSubmit:function(e){e.preventDefault(),t(o),a(j),c(p),u(""),b(""),v("")},children:[Object(d.jsx)(g.a,{className:Q.a.SearchForm__input,id:"outlined-basic",label:"Search by name",name:"title",variant:"outlined",value:o,required:!0,type:"text",autoComplete:"off",autoFocus:!0,onChange:f}),Object(d.jsx)(g.a,{className:Q.a.SearchForm__input,id:"outlined-basic",label:"Search by year",name:"year",variant:"outlined",value:j,type:"numeric",autoComplete:"off",title:"Year",inputProps:{inputMode:"numeric",pattern:"^[1-9][0-9]{3}$"},onChange:f}),Object(d.jsxs)(N.a,{fullWidth:!0,children:[Object(d.jsx)(T.a,{id:"demo-select-small",children:"Type"}),Object(d.jsxs)(M.a,{value:p,label:"Type",onChange:function(e){v(e.target.value)},placeholder:"Type",children:[Object(d.jsx)(G.a,{value:"movie",children:"movie"}),Object(d.jsx)(G.a,{value:"series",children:"series"}),Object(d.jsx)(G.a,{value:"episode",children:"episode"})]})]}),Object(d.jsx)(x.a,{variant:"contained",type:"submit",className:Q.a.SearchForm__button,children:"Search"})]})})}var F=function(){var e=Object(r.useState)(""),t=Object(i.a)(e,2),a=t[0],c=t[1],n=Object(r.useState)(""),s=Object(i.a)(n,2),o=s[0],u=s[1],l=Object(r.useState)(""),h=Object(i.a)(l,2),j=h[0],b=h[1];return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(k,{getSearchQueryName:function(e){return c(e)},getSearchQueryYear:function(e){return u(e)},getSearchQueryType:function(e){return b(e)}}),Object(d.jsx)(_,{searchQueryName:a,searchQueryYear:o,searchQueryType:j})]})};s.a.createRoot(document.getElementById("root")).render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(F,{})}))},38:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__1GmgG",SearchForm:"Searchbar_SearchForm__2CWGu",SearchForm__button:"Searchbar_SearchForm__button__2bHVx",SearchForm__input:"Searchbar_SearchForm__input__QfOIu"}},56:function(e,t,a){e.exports={MovieGallery:"MovieGallery_MovieGallery__2AioG",MovieGallery__Button:"MovieGallery_MovieGallery__Button__2nqxm",MovieGallery__Butto:"MovieGallery_MovieGallery__Butto__2qdxT"}},57:function(e,t,a){e.exports={MovieGalleryItem:"MovieGalleryItem_MovieGalleryItem__EsNtc",MovieGalleryItem__image:"MovieGalleryItem_MovieGalleryItem__image__2FvGj"}},94:function(e,t,a){},95:function(e,t,a){}},[[101,1,2]]]);
//# sourceMappingURL=main.3a9169e3.chunk.js.map