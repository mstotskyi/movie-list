(this["webpackJsonpmovie-list"]=this["webpackJsonpmovie-list"]||[]).push([[0],{35:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__1GmgG",SearchForm:"Searchbar_SearchForm__2CWGu",SearchForm__button:"Searchbar_SearchForm__button__2bHVx",SearchForm__input:"Searchbar_SearchForm__input__QfOIu"}},43:function(e,t,a){e.exports={MovieGallery:"MovieGallery_MovieGallery__2AioG",MovieGallery__Button:"MovieGallery_MovieGallery__Button__2nqxm",MovieGallery__Button__wrapper:"MovieGallery_MovieGallery__Button__wrapper__10u8C"}},49:function(e,t,a){e.exports={MovieGalleryItem:"MovieGalleryItem_MovieGalleryItem__EsNtc",MovieGalleryItem__image:"MovieGalleryItem_MovieGalleryItem__image__2FvGj"}},80:function(e,t,a){},81:function(e,t,a){},87:function(e,t,a){"use strict";a.r(t);var r=a(0),c=a.n(r),n=a(56),i=a.n(n),o=(a(80),a(9)),s=(a(81),a(15)),l=a(43),u=a.n(l),h=a(38),j=a(39),b=function(){function e(){Object(h.a)(this,e),this.searchQuery=void 0,this.page=void 0,this.total=void 0,this.searchQuery="",this.page=1,this.total=0}return Object(j.a)(e,[{key:"fetchPictures",value:function(){var e=this,t="".concat("http://www.omdbapi.com/","?s=").concat(this.searchQuery,"&apikey=").concat("a5f3b75f","&page=").concat(this.page);return fetch(t).then((function(e){return e.json()})).then((function(t){return console.log(t),e.getTotal(t.totalResults),t.Search}))}},{key:"incrementPage",value:function(){this.page+=1}},{key:"resetPage",value:function(){this.page=1}},{key:"getTotal",value:function(e){this.total=e}},{key:"query",get:function(){return this.searchQuery},set:function(e){this.searchQuery=e}}]),e}(),_=a(49),m=a.n(_),v=a(2);function f(e){var t=e.movies;return t.length>0?Object(v.jsx)(v.Fragment,{children:t.map((function(e){return Object(v.jsxs)("li",{className:m.a.MovieGalleryItem,children:[Object(v.jsx)("img",{src:e.Poster,alt:e.Title,"data-source":e.Poster,className:m.a.MovieGalleryItem__image}),Object(v.jsxs)("p",{children:["Title: ",e.Title]}),Object(v.jsxs)("p",{children:["Year: ",e.Year]}),Object(v.jsxs)("p",{children:["imdbID: ",e.imdbID]})]},e.imdbID)}))}):Object(v.jsx)("p",{children:"No such found"})}var d=a(63);function p(){return Object(v.jsx)(d.a,{height:"80",width:"80",color:"#4fa94d",ariaLabel:"circles-loading",wrapperStyle:{},wrapperClass:"",visible:!0})}var O=a(125),y=new b;function g(e){var t=e.searchQuery,a=Object(r.useState)([]),c=Object(o.a)(a,2),n=c[0],i=c[1],l=Object(r.useState)("init"),h=Object(o.a)(l,2),j=h[0],b=h[1],_=Object(r.useState)(!1),m=Object(o.a)(_,2),d=m[0],g=m[1];Object(r.useEffect)((function(){""!==t&&(b("pending"),y.query=t,y.resetPage(),y.fetchPictures().then((function(e){console.log(e),i(e),b("success")})).catch((function(e){b("error")})))}),[t]);return"init"===j?Object(v.jsx)("h1",{children:"Hallo! Search something!"}):"pending"===j?Object(v.jsx)(p,{}):"success"===j?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("ul",{className:u.a.MovieGallery,children:Object(v.jsx)(f,{movies:n})}),d&&Object(v.jsx)(p,{}),Object(v.jsx)("div",{className:u.a.MovieGallery__Button__wrapper,children:Object(v.jsx)(O.a,{className:u.a.MovieGallery__Button,variant:"contained",onClick:function(e){y.incrementPage(),y.fetchPictures().then((function(e){i((function(t){return[].concat(Object(s.a)(t),Object(s.a)(e))})),g(!1),b("success"),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})})).catch((function(e){b("error")}))},children:"ShowMore"})})]}):void("error"===j&&alert("ERROR!!"))}var x=a(124),S=a(35),G=a.n(S);function M(e){var t=e.getSearchQuery,a=Object(r.useState)(""),c=Object(o.a)(a,2),n=c[0],i=c[1];return Object(v.jsx)("header",{className:G.a.Searchbar,children:Object(v.jsxs)("form",{className:G.a.SearchForm,onSubmit:function(e){e.preventDefault(),t(n),i("")},children:[Object(v.jsx)(x.a,{className:G.a.SearchForm__input,id:"outlined-basic",label:"Search",variant:"outlined",value:n,type:"text",autoComplete:"off",autoFocus:!0,onChange:function(e){i(e.target.value)}}),Object(v.jsx)(O.a,{variant:"contained",type:"submit",className:G.a.SearchForm__button,children:"Search"})]})})}var w=function(){var e=Object(r.useState)(""),t=Object(o.a)(e,2),a=t[0],c=t[1];return Object(v.jsxs)("div",{className:"App",children:[Object(v.jsx)(M,{getSearchQuery:function(e){return c(e)}}),Object(v.jsx)(g,{searchQuery:a})]})};i.a.createRoot(document.getElementById("root")).render(Object(v.jsx)(c.a.StrictMode,{children:Object(v.jsx)(w,{})}))}},[[87,1,2]]]);
//# sourceMappingURL=main.3782535a.chunk.js.map